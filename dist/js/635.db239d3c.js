"use strict";(self["webpackChunkarvan"]=self["webpackChunkarvan"]||[]).push([[635],{1279:function(t,e,a){a.d(e,{Z:function(){return u}});var s=a(3396),l=a(7139);const o=["checked"],i={for:"checkTags"};function n(t,e,a,n,r,c){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("input",{type:"checkbox",checked:!!a.tag.isChecked||null,class:"form-check-input tags-checkbox",onClick:e[0]||(e[0]=t=>a.tag.isChecked=!a.tag.isChecked)},null,8,o),(0,s._)("label",i,(0,l.zw)(a.tag.title),1)])}var r={props:{tag:Object}},c=a(89);const d=(0,c.Z)(r,[["render",n]]);var u=d},7137:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3396),l=a(7139);const o={class:"p-3 header-article"},i={class:"d-flex"},n=(0,s._)("button",{type:"button",class:"navbar-toggler btn blue me-auto px-4 d-lg-none","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasDarkNavbar","aria-controls":"offcanvasDarkNavbar"},"post",-1),r={class:"d-lg-flex align-items-center"},c=(0,s._)("h1",{class:"text-22 pe-3 text-white",title:"Arvan challenge"}," Arvan Challenge ",-1);function d(t,e,a,d,u,p){return(0,s.wg)(),(0,s.iD)("header",o,[(0,s._)("div",null,[(0,s._)("div",i,[n,(0,s._)("div",r,[c,(0,s._)("span",null,(0,l.zw)(u.username),1)]),(0,s._)("button",{type:"button",class:"btn btn-outline-info ms-auto me-2",onClick:e[0]||(e[0]=(...t)=>p.handleLogout&&p.handleLogout(...t))},"Logout")])])])}a(7658);var u={data(){return{username:""}},created(){const t=localStorage.getItem("username");this.username=t},methods:{handleLogout(){localStorage.clear(),this.$router.push("/#")}}},p=a(89);const m=(0,p.Z)(u,[["render",d]]);var h=m},2520:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3396);const l={class:"d-none col-lg-2 blue d-lg-flex flex-column"},o=(0,s._)("h5",{class:"p-3"},"post",-1),i={class:"d-flex flex-column"},n={class:"offcanvas offcanvas-start blue w-50 flex-column",tabindex:"-1",id:"offcanvasDarkNavbar","aria-labelledby":"offcanvasDarkNavbarLabel"},r=(0,s._)("h5",{class:"p-3"},"post",-1),c={class:"d-flex flex-column"};function d(t,e){const a=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s._)("div",null,[o,(0,s._)("div",i,[(0,s.Wm)(a,{to:"/",class:"sidebar-items py-1 text-white ps-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("All Articles")])),_:1}),(0,s.Wm)(a,{to:"newArticlePage",class:"sidebar-items py-1 text-white ps-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("New Articles")])),_:1})])])]),(0,s._)("div",n,[(0,s._)("div",null,[r,(0,s._)("div",c,[(0,s.Wm)(a,{to:"/",class:"sidebar-items py-1 text-white ps-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("All Articles")])),_:1}),(0,s.Wm)(a,{to:"newArticlePage",class:"sidebar-items py-1 text-white ps-4"},{default:(0,s.w5)((()=>[(0,s.Uk)("New Articles")])),_:1})])])])],64)}var u=a(89);const p={},m=(0,u.Z)(p,[["render",d]]);var h=m},6635:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var s=a(3396);const l={class:"body-container vh-100"},o={class:"h-100 d-flex"},i={class:"form-articles col-12 col-md-10"},n=(0,s._)("h2",null,"Edit Article",-1);function r(t,e,a,r,c,d){const u=(0,s.up)("responsive-header"),p=(0,s.up)("sideBar"),m=(0,s.up)("formArticle");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(u),(0,s._)("section",o,[(0,s.Wm)(p),(0,s._)("div",i,[n,(0,s.Wm)(m)])])])}var c=a(7137),d=a(2520),u=a(9242);const p={class:"my-4"},m={class:"col-sm-9"},h={class:"mb-3 has-validation"},g=(0,s._)("label",{for:"exampleFormControlInput1",class:"form-label"},"Title",-1),f=(0,s._)("div",{class:"invalid-feedback"}," Please choose a username. ",-1),b={class:"mb-3"},v=(0,s._)("label",{for:"exampleFormControlInput1",class:"form-label"},"Description",-1),_={class:"mb-3"},w=(0,s._)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Body",-1),k={class:"col-sm-3 ps-sm-4"},x=(0,s._)("label",{for:"tags",class:"form-label"},"Tags",-1),y={class:"form-control tagsTEextaria mt-3 overflow-auto"},C={class:"col-12 pt-2"},L=["disabled"],T={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};function A(t,e,a,l,o,i){const n=(0,s.up)("articleTags");return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("form",{class:"row",onSubmit:e[5]||(e[5]=(0,u.iM)(((...t)=>i.completeForm&&i.completeForm(...t)),["prevent"]))},[(0,s._)("div",m,[(0,s._)("div",h,[g,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.title=t),type:"text",placeholder:"Title",class:"form-control",id:"exampleFormControlInput1 required"},null,512),[[u.nr,o.title]]),f]),(0,s._)("div",b,[v,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.description=t),type:"text",class:"form-control",placeholder:"Description",id:"exampleFormControlInput1"},null,512),[[u.nr,o.description]])]),(0,s._)("div",_,[w,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.body=t),class:"form-control",id:"exampleFormControlTextarea1",rows:"8"},null,512),[[u.nr,o.body]])])]),(0,s._)("div",k,[x,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.tagTitle=t),onKeypress:e[4]||(e[4]=(0,u.D2)((0,u.iM)((t=>i.addTag()),["prevent"]),["enter"])),name:"tags",class:"form-control",placeholder:"New tag"},null,544),[[u.nr,o.tagTitle]]),(0,s._)("div",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tags,((t,e)=>((0,s.wg)(),(0,s.j4)(n,{key:e,class:"mb-2",tag:t},null,8,["tag"])))),128))])]),(0,s._)("div",C,[(0,s._)("button",{class:"btn btn-sm blue px-4",disabled:o.isLoading,type:"submit"},[o.isLoading?((0,s.wg)(),(0,s.iD)("span",T)):(0,s.kq)("",!0),(0,s.Uk)(" Submit ")],8,L)])],32)])}a(7658);var Z=a(1279),D=a(4161),W=a(1120),F=a(4677),U={name:"app",components:{articleTags:Z.Z},setup(){const t=(0,F.pm)();return{toast:t}},data(){return{tagTitle:"",tags:[],title:"",description:"",body:"",isCheckedTags:"",slug:this.$route.params.slug,isLoading:!0}},methods:{addTag(){const t={title:this.tagTitle,ischecked:!1};this.tags.push(t),this.tagTitle=""},completeForm(){this.isLoading=!0;const t={article:{title:this.title,description:this.description,body:this.body,tagList:[]}},e=this.tags.filter((t=>t.isChecked));t.article.tagList=e.map((t=>t.title));const a=JSON.stringify(t);D.Z.put(`https://api.realworld.io/api/articles/${this.slug}`,a,{headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{console.log(t),W.Z.push("/allPost"),this.toast.success("Well done! Article updated successfuly"),this.isLoading=!1})).catch((t=>{console.log(t),this.isLoading=!1}))}},mounted(){D.Z.get("https://api.realworld.io/api/articles").then((t=>{this.posts=t.data;const e=t.data.articles;e.forEach((t=>{t.tagList.forEach((t=>{const e={title:t,isChecked:!1};this.tags.push(e),this.tags.sort(((t,e)=>t.title.localeCompare(e.title)))}))}))})).catch((t=>{console.log(t)})),D.Z.get("https://api.realworld.io/api/articles",{params:{limit:1,title:this.slug},headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:`Bearer ${localStorage.getItem("token")}`}}).then((t=>{const e=t.data.articles[0];this.title=e.title,this.description=e.description,this.body=e.body,this.tags.forEach((t=>{const a=e.tagList.includes(t.title);t.isChecked=a})),this.isLoading=!1})).catch((t=>{console.log(t),this.isLoading=!1}))}},N=a(89);const I=(0,N.Z)(U,[["render",A]]);var S=I,q={name:"HomeView",components:{responsiveHeader:c.Z,sideBar:d.Z,formArticle:S}};const H=(0,N.Z)(q,[["render",r]]);var B=H}}]);
//# sourceMappingURL=635.db239d3c.js.map